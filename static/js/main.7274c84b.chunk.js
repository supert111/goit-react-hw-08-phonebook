(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[1],{12:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return j}));var r=n(5),c=(n(29),n(17)),a=n.n(c),u=n(25),o=n(19),s=n.n(o);s.a.defaults.baseURL="https://connections-api.herokuapp.com";var i=function(t){s.a.defaults.headers.common.Authorization="Bearer ".concat(t)},b=function(){s.a.defaults.headers.common.Authorization=""},l={register:function(t){return function(){var e=Object(u.a)(a.a.mark((function e(n){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(r.a.registerRequest()),e.prev=1,e.next=4,s.a.post("/users/signup",t);case 4:c=e.sent,n(r.a.registerSuccess(c.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n(r.a.registerError(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},logOut:function(){return function(){var t=Object(u.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(r.a.logoutRequest()),t.prev=1,t.next=4,s.a.post("/users/logout");case 4:b(),e(r.a.logoutSuccess()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(r.a.logoutError(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},logIn:function(t){return function(){var e=Object(u.a)(a.a.mark((function e(n){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(r.a.loginRequest()),e.prev=1,e.next=4,s.a.post("/users/login",t);case 4:c=e.sent,i(c.data.token),n(r.a.loginSuccess(c.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(r.a.loginError(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var t=Object(u.a)(a.a.mark((function t(e,n){var c,u,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n(),u=c.auth.token){t.next=3;break}return t.abrupt("return");case 3:return i(u),e(r.a.getCurrentUserRequest()),t.prev=5,t.next=8,s.a.get("/users/current");case 8:o=t.sent,e(r.a.getCurrentUserSuccess(o.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e(r.a.getCurrentUserError(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}()}},j={getIsAuthenticated:function(t){return t.auth.isAuthenticated},getUsername:function(t){return t.auth.user.name}}},22:function(t,e,n){t.exports={nav_link:"AuthNav_nav_link__H5a9h",nav_link_active:"AuthNav_nav_link_active__13zsX",Registr:"AuthNav_Registr__1yFqK"}},24:function(t,e,n){t.exports={nav_link:"Navigation_nav_link__3707_",nav_link_active:"Navigation_nav_link_active__1L8c0"}},29:function(t,e,n){"use strict";var r,c,a,u,o=n(2),s=n(8),i=n(4),b=n(5),l={name:null,email:null},j=Object(i.c)(l,(r={},Object(o.a)(r,b.a.registerSuccess,(function(t,e){return e.payload.user})),Object(o.a)(r,b.a.loginSuccess,(function(t,e){return e.payload.user})),Object(o.a)(r,b.a.logoutSuccess,(function(){return l})),Object(o.a)(r,b.a.getCurrentUserSuccess,(function(t,e){return e.payload})),r)),O=Object(i.c)(null,(c={},Object(o.a)(c,b.a.registerSuccess,(function(t,e){return e.payload.token})),Object(o.a)(c,b.a.loginSuccess,(function(t,e){return e.payload.token})),Object(o.a)(c,b.a.logoutSuccess,(function(){return null})),c)),d=function(t,e){return e.payload},f=Object(i.c)(null,(a={},Object(o.a)(a,b.a.registerError,d),Object(o.a)(a,b.a.loginError,d),Object(o.a)(a,b.a.logoutError,d),Object(o.a)(a,b.a.getCurrentUserError,d),a)),g=Object(i.c)(!1,(u={},Object(o.a)(u,b.a.registerSuccess,(function(){return!0})),Object(o.a)(u,b.a.loginSuccess,(function(){return!0})),Object(o.a)(u,b.a.getCurrentUserSuccess,(function(){return!0})),Object(o.a)(u,b.a.registerError,(function(){return!1})),Object(o.a)(u,b.a.loginError,(function(){return!1})),Object(o.a)(u,b.a.getCurrentUserError,(function(){return!1})),Object(o.a)(u,b.a.logoutSuccess,(function(){return!1})),u));e.a=Object(s.b)({user:j,isAuthenticated:g,token:O,error:f})},32:function(t,e,n){t.exports={title:"UserMenu_title__2Yrk3",Login:"UserMenu_Login__JmdTS",login_name:"UserMenu_login_name__27FR1"}},43:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n(0);var r=n(54),c=n.n(r),a=n(1),u=function(t){var e=t.children;return Object(a.jsx)("div",{className:c.a.container,children:e})}},44:function(t,e,n){"use strict";var r,c,a,u=n(2),o=n(30),s=n(8),i=n(4),b=n(9),l=Object(i.c)([],(r={},Object(u.a)(r,b.i,(function(t,e){return e.payload})),Object(u.a)(r,b.c,(function(t,e){var n=e.payload;return t.find((function(t){return t.name===n.name}))?(alert("".concat(n.name," is already in contacts.")),t):""===n.name?(alert("Please fill out the form it is empty."),t):""===n.number?(alert("Please fill out the form with your phone number, it is empty."),t):[n].concat(Object(o.a)(t))})),Object(u.a)(r,b.f,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),r)),j=Object(i.c)(!1,(c={},Object(u.a)(c,b.h,(function(){return!0})),Object(u.a)(c,b.i,(function(){return!1})),Object(u.a)(c,b.g,(function(){return!1})),Object(u.a)(c,b.b,(function(){return!0})),Object(u.a)(c,b.c,(function(){return!1})),Object(u.a)(c,b.a,(function(){return!1})),Object(u.a)(c,b.e,(function(){return!0})),Object(u.a)(c,b.f,(function(){return!1})),Object(u.a)(c,b.d,(function(){return!1})),c)),O=Object(i.c)("",Object(u.a)({},b.j,(function(t,e){return e.payload}))),d=Object(i.c)(null,(a={},Object(u.a)(a,b.g,(function(t,e){return e.payload})),Object(u.a)(a,b.a,(function(t,e){return e.payload})),Object(u.a)(a,b.d,(function(t,e){return e.payload})),a));e.a=Object(s.b)({contacts:l,filter:O,loading:j,error:d})},5:function(t,e,n){"use strict";var r=n(4),c=Object(r.b)("auth/registerRequest"),a=Object(r.b)("auth/registerSuccess"),u=Object(r.b)("auth/registerError"),o=Object(r.b)("auth/loginRequest"),s=Object(r.b)("auth/loginSuccess"),i=Object(r.b)("auth/loginError"),b=Object(r.b)("auth/logoutRequest"),l=Object(r.b)("auth/logoutSuccess"),j=Object(r.b)("auth/logoutError"),O=Object(r.b)("auth/getCurrentUserRequest"),d=Object(r.b)("auth/getCurrentUserSuccess"),f=Object(r.b)("auth/getCurrentUserError");e.a={registerRequest:c,registerSuccess:a,registerError:u,logoutRequest:b,logoutSuccess:l,logoutError:j,loginRequest:o,loginSuccess:s,loginError:i,getCurrentUserRequest:O,getCurrentUserSuccess:d,getCurrentUserError:f}},54:function(t,e,n){t.exports={container:"Container_container__2b5ig"}},55:function(t,e,n){t.exports={AppBar:"AppBar_AppBar__123a0"}},9:function(t,e,n){"use strict";n.d(e,"h",(function(){return c})),n.d(e,"i",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return l})),n.d(e,"d",(function(){return j})),n.d(e,"j",(function(){return O}));var r=n(4),c=Object(r.b)("contacts/fetchContactRequest"),a=Object(r.b)("contacts/fetchContactSuccess"),u=Object(r.b)("contacts/fetchContactError"),o=Object(r.b)("contacts/addContactRequest"),s=Object(r.b)("contacts/addContactSuccess"),i=Object(r.b)("contacts/addContactError"),b=Object(r.b)("contacts/deleteContactRequest"),l=Object(r.b)("contacts/deleteContactSuccess"),j=Object(r.b)("contacts/deleteContactError"),O=Object(r.b)("contacts/SearchByFilter")},90:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(26),u=n.n(a),o=n(39),s=n(40),i=n(42),b=n(41),l=n(6),j=n(10),O=n(43),d=n(16),f={home:"/",contacts:"/contacts",register:"/register",login:"/login"},g=n(24),h=n.n(g),p=n(12),v=n(1),m=Object(j.b)((function(t){return{isAuthenticated:p.b.getIsAuthenticated(t)}}))((function(t){var e=t.isAuthenticated;return Object(v.jsxs)("nav",{children:[Object(v.jsx)(d.b,{exact:!0,to:f.home,className:h.a.nav_link,activeClassName:h.a.nav_link_active,children:"Home"}),e&&Object(v.jsx)(d.b,{to:f.contacts,className:h.a.nav_link,activeClassName:h.a.nav_link_active,children:"Contacts"})]})})),x=n(22),_=n.n(x),k=function(){return Object(v.jsxs)("nav",{className:_.a.Registr,children:[Object(v.jsx)(d.b,{exact:!0,to:f.register,className:_.a.nav_link,activeClassName:_.a.nav_link_active,children:"Registration"}),Object(v.jsx)(d.b,{to:f.login,className:_.a.nav_link,activeClassName:_.a.nav_link_active,children:"Login"})]})},C=n(55),y=n.n(C),S=n(92),A=n(32),E=n.n(A),U={onLogout:p.a.logOut},R=Object(j.b)((function(t){return{name:p.b.getUsername(t)}}),U)((function(t){var e=t.name,n=t.onLogout;return Object(v.jsxs)("div",{className:E.a.Login,children:[Object(v.jsxs)("span",{className:E.a.title,children:["Welcome, ",Object(v.jsx)("span",{className:E.a.login_name,children:e})]}),Object(v.jsx)(S.a,{variant:"warning",size:"sm",type:"button",onClick:n,children:"Logout"})," "]})})),N=Object(j.b)((function(t){return{isAuthenticated:p.b.getIsAuthenticated(t)}}))((function(t){var e=t.isAuthenticated;return Object(v.jsx)(O.a,{children:Object(v.jsxs)("header",{className:y.a.AppBar,children:[Object(v.jsx)(m,{}),e?Object(v.jsx)(R,{}):Object(v.jsx)(k,{})]})})})),q=(n(87),n(20)),w=n(31),z=Object(j.b)((function(t){return{isAuthenticated:p.b.getIsAuthenticated(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=t.redirectTo,c=Object(w.a)(t,["component","isAuthenticated","redirectTo"]);return Object(v.jsx)(l.b,Object(q.a)(Object(q.a)({},c),{},{render:function(t){return n?Object(v.jsx)(e,Object(q.a)({},t)):Object(v.jsx)(l.a,{to:r})}}))})),L=Object(j.b)((function(t){return{isAuthenticated:p.b.getIsAuthenticated(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=t.redirectTo,c=Object(w.a)(t,["component","isAuthenticated","redirectTo"]);return Object(v.jsx)(l.b,Object(q.a)(Object(q.a)({},c),{},{render:function(t){return n&&c.restricted?Object(v.jsx)(l.a,{to:r}):Object(v.jsx)(e,Object(q.a)({},t))}}))})),T=Object(r.lazy)((function(){return n.e(6).then(n.bind(null,116))})),B=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,118))})),I=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,117))})),M=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,115))})),F=Object(r.lazy)((function(){return n.e(2).then(n.bind(null,113))})),P=function(t){Object(i.a)(n,t);var e=Object(b.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurretnUser()}},{key:"render",value:function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(N,{}),Object(v.jsx)(r.Suspense,{fallback:Object(v.jsx)("p",{children:"Loading..."}),children:Object(v.jsxs)(l.d,{children:[Object(v.jsx)(L,{exact:!0,path:f.home,component:T}),Object(v.jsx)(z,{path:f.contacts,component:M,redirectTo:f.login}),Object(v.jsx)(L,{path:f.register,restricted:!0,component:B,redirectTo:f.contacts}),Object(v.jsx)(L,{path:f.login,restricted:!0,component:I,redirectTo:f.contacts}),Object(v.jsx)(L,{component:F})]})})]})}}]),n}(r.Component),J={onGetCurretnUser:p.a.getCurrentUser},G=Object(j.b)(null,J)(P),H=n(56),D=n(30),K=n(18),W=n(57),X=n.n(W),Y=n(4),Q=n(44),V=n(29),Z=n(58),$=n.n(Z),tt=[].concat(Object(D.a)(Object(Y.d)({serializableCheck:{ignoredActions:[K.a,K.f,K.b,K.c,K.d,K.e]}})),[$.a]),et={key:"auth",storage:X.a,whitelist:["token"]},nt=Object(Y.a)({reducer:{state:Q.a,auth:Object(K.g)(et,V.a)},middleware:tt,devTools:!1}),rt={store:nt,persistor:Object(K.h)(nt)};u.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(j.a,{store:rt.store,children:Object(v.jsx)(H.a,{loading:"loading",persistor:rt.persistor,children:Object(v.jsx)(d.a,{children:Object(v.jsx)(G,{})})})})}),document.getElementById("root"))}},[[90,3,4]]]);
//# sourceMappingURL=main.7274c84b.chunk.js.map